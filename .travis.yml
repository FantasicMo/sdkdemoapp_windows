matrix:
  include:
  - os: osx
    osx_image: xcode9.4
    language: node_js
    node_js: '8'
    env:
    - ELECTRON_CACHE=$HOME/.cache/electron
    - ELECTRON_BUILDER_CACHE=$HOME/.cache/electron-builder
cache:
  directories:
  - node_modules
  - "$HOME/.cache/electron"
  - "$HOME/.cache/electron-builder"
script: npm run prod-mac
deploy:
  provider: releases
  api_key:
    secure: 4G7a9hS7zD4rZUj6ACOCHYQLCkotuczOMUenUrFJLEC6Yx1/PuY+qONVSHxUWvORBq4e7zWAi28/SWzdrueP1T0Ct2u6tFXHe6wk7gsAExp5zD/Up4PZPDfI6QWIqiRrcuSQQGJAX81iCAdmQgsEqX3ziUvAYZfZIDH/5UL3zbv8FahnyaL/tveS4G6NeLjIiQLzk4iGJDygppAL+KdQMzcye+qpKu3HJyByJK4qraGs66CYmuMheITgHKFDXz/koAQR2n4PKchs3EEWOU7spnO36Yi5ZFRky5FSzr/K0u3QMP9oBpnofNwS0ahzP0h4nu4zyQQkv6e8dqh6AkGcFdfEM6tCPwGn+7owuss+vW7pwzF0MJkrpjtvJV9n5QOdaYdUXvhjNXdgkavF8et627dIyEu74DXNaVPZj3Phj4gJjqKdCSIeUQlXUsAZnzJjrHg8eIgHhd5PUpg86o/EuF2PH4rztIMlXs3WwYXsI8MVKCZ4FnKbUJtfBcdhNzCjr35X2Ljd4gvJW0CPPavNi3Vz1eu6EMwpmR4pMalUjYmxnIpd5efx0Ooell7WWYvH0mngaEClbSxh+4+BMHla+N3lOzhURpZnUlZwEGMzzrwsIe/mv2XlbWoklCP+hrEpC6S6kclhJaxPidG827xsdzhtMatlfE0TfbbSXfdWvG8=
  file: 'release/*.*'
  on:
    repo: easemob/sdkdemoapp_windows
    all_branches: true
